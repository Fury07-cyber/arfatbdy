<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>🎉 Happy Birthday Arfat 🎂</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    html,body { height: 100%; }
    body {
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: white;
      background: radial-gradient(circle at 50% 20%, #6a00ff 0%, #000 70%);
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      user-select: none;
      position: relative;
    }

    h1, h2, h3 { text-align: center; z-index: 4; padding: 0 12px; margin: 0; }
    h1 {
      font-size: clamp(2rem, 6vw, 3.6rem);
      text-shadow: 0 0 22px rgba(255,180,220,0.9), 0 0 48px rgba(255,100,200,0.6);
      margin-bottom: 6px;
      animation: floatText 3s ease-in-out infinite alternate;
    }
    h2 {
      font-size: clamp(1rem, 3.6vw, 1.4rem);
      color: #ffe6fa;
      text-shadow: 0 0 12px rgba(255,180,220,0.6);
      margin-bottom: 6px;
    }
    h3 {
      font-size: clamp(0.95rem, 3vw, 1.15rem);
      color: #80ffea;
      text-shadow: 0 0 10px #80ffea, 0 0 18px #00ffff;
      margin-bottom: 18px;
      animation: floatText 3s ease-in-out infinite alternate;
    }
    @keyframes floatText { from{ transform: translateY(0);} to{ transform: translateY(-6px);} }

    /* CENTERED WAVE WRAPPER - prevents iOS drift */
    .wave-container {
      position: absolute;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
      width: 220%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
      z-index: 1;
    }

    .wave {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 200%;
      height: 100%;
      white-space: nowrap;
      font-size: clamp(2rem, 8vw, 5rem);
      font-weight: 800;
      text-transform: uppercase;
      background: linear-gradient(90deg, #ff66cc, #66fff0, #fff176, #ff9a66, #ff66cc);
      background-size: 600%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      opacity: 0.12;
      line-height: 1.2;
      text-align: center;
      filter: blur(0.3px) contrast(1.05) saturate(1.1);
      will-change: transform;
      /* synchronized movement */
      animation: moveWave 18s linear infinite, colorShift 8s linear infinite;
    }

    /* three stacked waves inside the centered wrapper (same animation) */
    .wave.w1 { top: 18%; transform: translateX(-50%) translateY(0); opacity: 0.10; }
    .wave.w2 { top: 46%; transform: translateX(-50%) translateY(0); opacity: 0.12; }
    .wave.w3 { top: 74%; transform: translateX(-50%) translateY(0); opacity: 0.09; }

    @keyframes moveWave{
      0% { transform: translateX(-50%) translateY(0); }
      100% { transform: translateX(-90%) translateY(0); }
    }
    @keyframes colorShift { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }

    /* Central Cake & glowing candle */
    .cake-container {
      position: relative;
      font-size: clamp(5rem, 16vw, 9rem);
      filter: drop-shadow(0 0 28px rgba(255,100,200,0.6));
      animation: cakeFloat 2.4s ease-in-out infinite alternate;
      z-index: 5;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    @keyframes cakeFloat { from{ transform: translateY(0);} to{ transform: translateY(-14px);} }

    .candle-flame {
      position: absolute;
      top: -28%;
      left: 50%;
      transform: translateX(-50%);
      width: 20%;
      height: 18%;
      min-width: 18px;
      min-height: 18px;
      max-width: 36px;
      max-height: 36px;
      background: radial-gradient(circle at 40% 30%, #fff6b3 0%, #ffd54d 18%, #ff8a00 55%, rgba(255,80,0,0) 100%);
      border-radius: 50% 50% 45% 45% / 60% 60% 40% 40%;
      box-shadow: 0 0 30px 8px rgba(255,140,30,0.7);
      animation: flicker 0.18s alternate infinite;
      z-index: 6;
      pointer-events: none;
    }
    @keyframes flicker {
      0% { transform: translateX(-50%) translateY(0) scale(1); opacity: 1; }
      100% { transform: translateX(-50%) translateY(-4%) scale(1.18); opacity: 0.86; }
    }

    /* Particles */
    .particle {
      position: absolute;
      pointer-events: none;
      z-index: 3;
      will-change: transform, opacity;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
  </style>
</head>
<body>
  <!-- Centered wave wrapper fixes iOS layout drift -->
  <div class="wave-container" aria-hidden="true">
    <div class="wave w1">🎉 HAPPY BIRTHDAY ARFAT — CELEBRATE! 🎉 HAPPY BIRTHDAY ARFAT — CELEBRATE!</div>
    <div class="wave w2">🎉 HAPPY BIRTHDAY ARFAT — CELEBRATE! 🎉 HAPPY BIRTHDAY ARFAT — CELEBRATE!</div>
    <div class="wave w3">🎉 HAPPY BIRTHDAY ARFAT — CELEBRATE! 🎉 HAPPY BIRTHDAY ARFAT — CELEBRATE!</div>
  </div>

  <h1>🎉 Happy Birthday, Arfat! 🎂</h1>
  <h2>Wishing you joy, laughter, and light today!</h2>
  <h3>💫 From your friend, <span style="color:#00ffff; text-shadow:0 0 18px #00ffff;">Fury 💥</span></h3>

  <!-- Central cake emoji with flame -->
  <div class="cake-container" aria-hidden="false">
    <span style="line-height:1">🎂</span>
    <div class="candle-flame" aria-hidden="true"></div>
  </div>

  <script>
    // Create denser particles but optimized for mobile performance
    const symbols = ["✨","💖","💞","💫","⭐","🌟"];
    const maxParticles = 90; // cap
    let particles = 0;
    function spawnParticle() {
      if (particles >= maxParticles) return;
      particles++;
      const el = document.createElement('div');
      el.className = 'particle';
      el.textContent = symbols[Math.random() * symbols.length | 0];
      const size = (Math.random() * 18) + 10;
      el.style.fontSize = size + 'px';
      el.style.left = (Math.random() * 100) + 'vw';
      el.style.top = 100 + 'vh';
      el.style.opacity = (Math.random() * 0.8 + 0.2).toFixed(2);
      document.body.appendChild(el);

      const duration = 4500 + Math.random() * 3500;
      el.animate([
        { transform: `translateY(0) rotate(0deg)`, opacity: el.style.opacity },
        { transform: `translateY(-110vh) rotate(${(Math.random()*720|0)}deg)`, opacity: 0 }
      ], {
        duration: duration,
        easing: 'cubic-bezier(.2,.8,.2,1)',
        iterations: 1,
        fill: 'forwards'
      }).onfinish = () => {
        el.remove();
        particles--;
      };
    }

    // spawn more frequently but capped
    const spawnInterval = setInterval(spawnParticle, 120);

    // Pause particle spawning when page is hidden to save battery
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) clearInterval(spawnInterval);
    });

    // Ensure waves stay centered on resize and orientation change
    function recenterWaves() {
      const wc = document.querySelector('.wave-container');
      wc.style.transform = 'translateX(-50%)';
      wc.getBoundingClientRect();
    }
    window.addEventListener('resize', recenterWaves);
    window.addEventListener('orientationchange', () => setTimeout(recenterWaves, 120));
    recenterWaves();

    // Respect reduced-motion
    if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      document.querySelectorAll('.wave').forEach(w => w.style.animation = 'none');
      document.querySelectorAll('.cake-container').forEach(c => c.style.animation = 'none');
    }
  </script>
</body>
</html>
